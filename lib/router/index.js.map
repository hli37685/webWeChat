{"version":3,"sources":["../../src/router/index.js"],"names":["require","Wechat","qrcode","bot","uuidG","start","on","uuid","generate","small","console","log","module","exports","app","io","socket","msgData","get","req","res","render","src"],"mappings":"AAAA;AACA;;AACAA,QAAQ,gBAAR;AACA,MAAMC,SAASD,QAAQ,cAAR,CAAf;AACA,MAAME,SAASF,QAAQ,iBAAR,CAAf;AACA,IAAIG,MAAM,IAAV;AAAA,IAAeC,KAAf;AACAD,MAAM,IAAIF,MAAJ,EAAN;AACAE,IAAIE,KAAJ;AACAF,IAAIG,EAAJ,CAAO,MAAP,EAAeC,QAAQ;AACnBL,WAAOM,QAAP,CAAgB,mCAAmCD,IAAnD,EAAyD;AACzDE,eAAO;AADkD,KAAzD;AAGAL,YAAQG,IAAR;AACA;AACAG,YAAQC,GAAR,CAAY,QAAZ,EAAsB,wCAAwCJ,IAA9D;AACH,CAPD;;AAUAK,OAAOC,OAAP,GAAiB,UAASC,GAAT,EAAaC,EAAb,EAAiB;AAC9BA,OAAGT,EAAH,CAAM,YAAN,EAAoBU,MAAD,IAAU;AACzBhB,gBAAQ,qBAAR,EAA+BG,GAA/B,EAAmCa,MAAnC,EAA0CF,GAA1C;;AAEAE,eAAOV,EAAP,CAAU,KAAV,EAAiBW,OAAD,IAAW;AACvBP,oBAAQC,GAAR,CAAY,WAASM,OAArB;AACH,SAFD;AAGAP,gBAAQC,GAAR,CAAY,eAAZ;AACH,KAPD;;AASAG,QAAII,GAAJ,CAAQ,GAAR,EAAY,CAACC,GAAD,EAAKC,GAAL,KAAW;AACnBA,YAAIC,MAAJ,CAAW,OAAX,EAAmB,EAACC,KAAI,wCAAwClB,KAA7C,EAAnB;AACA;AACH,KAHD;AAIH,CAdD","file":"index.js","sourcesContent":["'use strict'\r\n//express_demo.js 文件\r\nrequire('babel-register')\r\nconst Wechat = require('../wechat.js');\r\nconst qrcode = require('qrcode-terminal');\r\nvar bot = null,uuidG;\r\nbot = new Wechat();\r\nbot.start();\r\nbot.on('uuid', uuid => {\r\n    qrcode.generate('https://login.weixin.qq.com/l/' + uuid, {\r\n    small: true\r\n    })\r\n    uuidG = uuid;\r\n    // res.status(200).send('二维码链接：', 'https://login.weixin.qq.com/qrcode/')\r\n    console.log('二维码链接：', 'https://login.weixin.qq.com/qrcode/' + uuid)\r\n});\r\n\r\n\r\nmodule.exports = function(app,io) {\r\n    io.on('connection',(socket)=>{\r\n        require('../msgSocket/msg.js')(bot,socket,app);\r\n\r\n        socket.on('msg',(msgData)=>{\r\n            console.log('客户端消息：'+msgData)\r\n        })\r\n        console.log('server recive')\r\n    })\r\n\r\n    app.get('/',(req,res)=>{\r\n        res.render('index',{src:'https://login.weixin.qq.com/qrcode/' + uuidG})\r\n        // res.redirect('https://login.weixin.qq.com/qrcode/' + uuid)\r\n    })\r\n}"]}
